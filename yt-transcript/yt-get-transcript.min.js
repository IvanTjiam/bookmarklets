javascript:(async function(){function a(a){return new Promise(b=>setTimeout(b,a))}function b(a){a.clone().json().then(a=>d(c(a))).catch(a=>console.error(a))}function c(a){const b=a.actions[0].updateEngagementPanelAction.content.transcriptRenderer.content.transcriptSearchPanelRenderer.body.transcriptSegmentListRenderer.initialSegments;return b.map(a=>{const b=a.transcriptSegmentRenderer.startTimeText.simpleText,c=a.transcriptSegmentRenderer.snippet.runs[0].text,d=a.transcriptSegmentRenderer.startMs,e=a.transcriptSegmentRenderer.endMs;return{time:b,text:c,startMs:d,endMs:e}})}function d(b){const c=new Blob([JSON.stringify(b,null,2)],{type:"text/plain"}),d=window.URL.createObjectURL(c),e=document.createElement("a"),a=window.location.search.split("v=")[1];e.href=d,e.download=a+".json",e.click(),e.remove(),window.URL.revokeObjectURL(d)}const e=window.fetch;window.fetch=async function(...a){let c=await e(...a);return c.url.includes("get_transcript")&&b(c),c},await async function(){document.querySelector("#page-manager ytd-menu-renderer > yt-icon-button#button").click(),await a(100);let b=document.querySelector("#items > ytd-menu-service-item-renderer:nth-child(2) > tp-yt-paper-item > yt-formatted-string");b?b.click():alert("No transcript available")}(),await a(100),function(){window.fetch=e}()})();